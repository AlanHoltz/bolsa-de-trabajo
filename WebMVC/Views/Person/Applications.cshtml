@using WebMVC.Models
@model List<JobProfilePerson>;
@{
    ViewData["Title"] = "Applications";
}

<<<<<<< HEAD
<div style="background:#E3E2E2;height:calc(100% - 56px);font-family: 'Roboto', sans-serif;" class="row px-3 overflow-auto">

    <table class="table text-center">
      <thead>
        <tr>
          <th scope="col">Company</th>
          <th scope="col">Reference Name</th>
          <th scope="col">Reference Phone</th>
          <th scope="col">Reference Email</th>
          <th scope="col">Position</th>
          <th scope="col">Description</th>
          <th scope="col">Status</th>
          <th scope="col">Operations</th>
        </tr>
      </thead>
      <tbody>
    @foreach(JobProfilePerson jp in Model)
    {
        @if(@jp.Status != "Canceled")
            {
        <tr>
          <td>@jp.JobProfiles.Company.Name</td>
          <td>@jp.JobProfiles.Company.ReferenceName</td>
          <td>@jp.JobProfiles.Company.ReferencePhone</td>
          <td>@jp.JobProfiles.Company.ReferenceEmail</td>
          <td>@jp.JobProfiles.Position</td>
          <td>@jp.JobProfiles.Description</td>
          <td>@jp.Status</td>
          <td>
                <a class="btn btn-danger" asp-controller="JobProfilePerson" asp-action="Cancel" asp-route-id="@jp.Id">Cancel</a>
          </td>
        </tr>
            }
    }
      </tbody>
    </table>

</div>
=======
<style>
    .job:hover{
        background:#000000 !important;
        cursor:pointer;
        transition: background .3s ease;
    }
</style>

<div style="background:#E3E2E2;height:calc(100% - 56px);font-family: 'Roboto', sans-serif;" class="row px-3 overflow-auto">
    <div class="col-md-12">
        <h2 class="text-secondary my-3">
            Aplicaciones
        </h2>

        @if(Model.Count > 0)
        {
            @foreach(JobProfilePerson jobProfilePerson in Model){            
        
            <div class="row shadow mb-4 bg-white rounded py-4 px-1 justify-content-between job js-job">
  
                <div class="col-sm-12">

                    <div class="row justify-content-between align-items-center">
                        <div class="col-auto">
                            <div class="row">
                                <div class="px-1">
                                    <img src="~/images/logo.png" width="75" height="75"/>
                                </div>

                                <div class="pl-1">
                                <h4 style="color:#6067D9">
                                    @jobProfilePerson.JobProfiles.Position
                                    </h4>
                                    <span class="font-weight-bold text-success">@jobProfilePerson.JobProfiles.Company.Name</span>
                                </div>
                            </div>
                        </div>
                        <a id="cancelButton" class="mr-2 btn btn-danger h-50 align-self-center" asp-controller="Person" asp-action="RemoveApplication" asp-route-id="@jobProfilePerson.JobProfiles.Id">Cancelar</a>
                    </div>


                </div>
                @Html.HiddenFor(m => jobProfilePerson.JobProfiles.Id, new { @class = "js-jobId" })    
            </div>
        
            }

        }

        else
        {
              <h4 class="text-danger text-uppercase">
                No has aplicado a ninguna propuesta aún
            </h4>
        }


    </div>
</div>

<script type="text/javascript">

    $(document).ready(function() {
        $('.js-job').on('click', function() {
            var jobId = $('.js-jobId', $(this)).val();
            window.location.href = "/Person/Jobs/" + jobId;
        });
    });

    $("#cancelButton").click(function(e){
        e.stopPropagation();
    })

</script>
>>>>>>> refs/remotes/origin/master
